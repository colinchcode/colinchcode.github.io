---
layout: post
title: "[python] Generating permutations with Python generators"
description: " "
date: 2023-10-18
tags: [python]
comments: true
share: true
---

Permutations are a common problem in computer science and are often used in various computational tasks. In Python, we can use generators to efficiently generate permutations without having to generate all possible permutations at once.

A generator is a special type of iterator that lazily computes values on-the-fly, allowing us to generate permutations one by one instead of storing them in memory. This can be very useful and memory-efficient when dealing with large sets or when we only need to iterate over the permutations rather than storing them all.

## Generating permutations with itertools.permutations

Python's `itertools` module provides a built-in function called `permutations` that can be used to generate permutations. This function takes an iterable as input and returns an iterator that yields all possible permutations of that iterable.

Here's an example of how to generate permutations using `itertools.permutations`:

```python
import itertools

def generate_permutations(iterable):
    for p in itertools.permutations(iterable):
        yield p
```

In the above example, we define a generator function `generate_permutations` that takes an iterable as input. We use a `for` loop to iterate over all permutations generated by `itertools.permutations` and `yield` each permutation one by one.

We can then use this generator function to generate permutations for any given iterable. For example:

```python
for permutation in generate_permutations([1, 2, 3]):
    print(permutation)
```

This will output:

```
(1, 2, 3)
(1, 3, 2)
(2, 1, 3)
(2, 3, 1)
(3, 1, 2)
(3, 2, 1)
```

## Generating permutations using recursion

Another approach to generating permutations is by using recursion. We can define a recursive function that generates permutations incrementally by choosing one element at a time from the remaining elements.

Here's an example of how to generate permutations using recursion:

```python
def generate_permutations_recursive(iterable):
    if len(iterable) <= 1:
        yield iterable
    else:
        for i in range(len(iterable)):
            for permutation in generate_permutations_recursive(iterable[:i] + iterable[i+1:]):
                yield (iterable[i],) + permutation
```

In the above example, we define a recursive generator function `generate_permutations_recursive` that takes an iterable as input. If the length of the iterable is less than or equal to 1, we yield the iterable itself as the only permutation. Otherwise, we iterate over each element in the iterable, recursively generate permutations for the remaining elements, and yield each permutation by concatenating the chosen element with the generated permutations.

We can then use this recursive generator function in a similar way as before:

```python
for permutation in generate_permutations_recursive([1, 2, 3]):
    print(permutation)
```

This will produce the same output as before:

```
(1, 2, 3)
(1, 3, 2)
(2, 1, 3)
(2, 3, 1)
(3, 1, 2)
(3, 2, 1)
```

## Conclusion

Python generators provide an elegant and efficient way to generate permutations without having to compute all possible permutations at once. By using generators, we can generate permutations lazily, which helps reduce memory usage and allows for more efficient code execution. Whether you choose to use the `itertools` module or implement your own recursive generator function, generating permutations in Python can be done easily using generators.