---
layout: post
title: "[python] Synchronous generators in Python"
description: " "
date: 2023-10-18
tags: [python]
comments: true
share: true
---

Python's generators are a powerful way to create iterators in a concise and memory-efficient manner. They allow you to write code that can produce a series of values on-the-fly, similar to a loop, but with the added benefit of not having to store all values in memory at once.

In Python 3.5, a new feature called "synchronous generators" was introduced. Synchronous generators provide a simpler and more readable syntax for writing generators, making it easier to work with them.

To define a synchronous generator, you need to use the `async` keyword before the `def` statement. This allows the generator to pause execution and resume it later using the `yield` keyword, just like regular generators.

Here's an example of a simple synchronous generator that generates a sequence of numbers:

```python
async def number_generator(n):
    for i in range(n):
        yield i
        await asyncio.sleep(1)  # Simulate some asynchronous operation

# Usage:
async def main():
    async for number in number_generator(5):
        print(number)

# Run the main function
asyncio.run(main())
```

In the above code, the `number_generator` function is defined as a synchronous generator. It yields each number from the range `n` and then waits for 1 second using `await asyncio.sleep(1)` to simulate an asynchronous operation.

The usage of the synchronous generator is demonstrated in the `main` function. It iterates over the numbers generated by `number_generator` and prints each number.

To run the `main` function, we use `asyncio.run()` which is available from Python 3.7 onwards.

Synchronous generators are particularly useful when working with asynchronous code and can be combined with other asyncio features such as asyncio tasks and event loops.

It's worth noting that synchronous generators are different from asynchronous generators, which were also introduced in Python 3.5. Asynchronous generators allow you to use the `async` and `await` keywords directly inside the generator function, but that's beyond the scope of this blog post.

To learn more about synchronous generators in Python, you can check out the official [Python documentation](https://docs.python.org/3/library/asyncio-sync.html) and other tutorials available online.

In conclusion, synchronous generators in Python provide an elegant way to create iterators and work with asynchronous code. They offer a more straightforward syntax and can be a valuable tool in your Python programming toolbox.