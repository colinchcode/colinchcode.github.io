---
layout: post
title: "[flutter] Redux의 액션과 리듀서를 작성할 때 주의해야 할 점은 무엇인가요?"
description: " "
date: 2023-11-03
tags: [flutter]
comments: true
share: true
---

Redux는 상태 관리 패턴으로서, **액션**과 **리듀서**를 통해 상태 변경을 관리합니다. Flutter에서 Redux를 사용할 때 액션과 리듀서를 작성할 때에는 몇 가지 주의사항을 알고 있어야 합니다.

### 1. 액션 타입의 일관성 유지하기
액션은 상태를 변경하기 위한 목적으로 사용됩니다. 따라서 액션의 타입을 일관성 있게 유지하는 것이 중요합니다. 액션 타입은 문자열이나 상수로 정의되며, 일반적으로 `final` 키워드를 사용하여 변경되지 않는 값을 할당합니다. 모든 액션들에 대해 고유한 타입을 사용하고, 다른 패키지나 모듈과의 충돌을 피하기 위해 네임스페이스를 사용하는 것이 좋습니다.

### 2. 리듀서의 순수성 유지하기
리듀서는 이전 상태와 액션을 받아 새로운 상태를 반환하는 함수입니다. 이 때 리듀서는 **순수 함수**로 작성되어야 합니다. 즉, 동일한 입력에 대해 항상 동일한 출력을 내야하며, 외부의 상태를 변경시키거나 API 호출 등의 부작용을 가지면 안됩니다. 리듀서는 단순히 입력값을 받아 변환하는 역할을 수행해야 합니다.

### 3. 상태 변경의 불변성 유지하기
리듀서는 상태를 변경하는 역할을 수행하지만, Redux에서는 상태 변경을 불변하게 처리하는 것을 권장합니다. 이는 새로운 상태를 반환할 때 기존 상태를 직접 수정하는 것이 아니라, 기존 상태를 복사한 뒤 변경한 새로운 상태를 생성하는 방식으로 처리해야 함을 의미합니다. 이는 상태 변경을 추적하고 디버그하는 데 도움이 되며, 성능 상의 이점을 제공합니다. Flutter에서는 `copyWith()`나 `..` 연산자를 사용하여 불변성을 유지할 수 있습니다.

### 4. 액션과 리듀서의 단일 책임 원칙
액션은 상태 변경을 위한 명령어로서, 최소한의 정보만을 포함해야 합니다. 액션은 단순한 데이터만을 가지며, 실제 비즈니스 로직이나 상태 변경 로직은 리듀서에서 처리되어야 합니다. 리듀서는 액션 타입에 따라 상태를 변환하는 역할을 담당하므로, 액션과 리듀서는 각각 자신의 책임에만 집중해야 합니다.

### 5. 테스트와 디버깅을 위한 로깅 추가
Redux 액션과 리듀서를 개발할 때는 테스트와 디버깅을 원활히 수행할 수 있도록 로깅을 추가하는 것이 좋습니다. 액션을 디스패치할 때, 리듀서가 어떻게 동작하는지 추적할 수 있는 출력을 추가하면 디버깅이 용이해지는데 도움이 됩니다. 또한, 테스트 할 때도 로깅을 통해 액션과 상태의 변화를 확인할 수 있어 오류를 쉽게 찾을 수 있습니다.

---

위 주의사항들을 염두에 두고 Flutter Redux의 액션과 리듀서를 작성할 수 있다면, 상태 관리가 더욱 간편해질 것입니다. 이를 통해 정확하고 예측 가능한 상태 관리를 구현할 수 있을 것입니다.

**참고 자료:**  
- [Flutter Redux 공식 문서](https://pub.dev/packages/flutter_redux)
- [Flutter Redux 튜토리얼](https://flutter.dev/docs/development/data-and-backend/state-mgmt/simple)